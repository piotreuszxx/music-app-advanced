<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="jakarta.faces.html"
		xmlns:ui="jakarta.faces.facelets"
		xmlns:f="jakarta.faces.core">
	<f:view>
			<h:head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>#{messages['title']}</title>

			<h:outputStylesheet library="css" name="main.css"/>
		</h:head>

		<h:body>
			<div class="container">
				<header class="site-header">
					<div class="brand">
						<h:graphicImage library="images" name="#{messages['header.logo']}" styleClass="logo" alt="#{messages['title']}"/>
						<h:graphicImage library="images" name="#{messages['header.flag']}" styleClass="flag" alt="lang"/>
					</div>
					<div class="tagline">#{messages['tagline']}</div>
					<div class="auth">
						<h:panelGroup rendered="#{not empty request.userPrincipal}">
							<h:outputText value="#{messages['hello']}, " />
							<h:outputText value="#{request.userPrincipal.name}" />
							<h:form>
								<h:commandButton value="#{messages['logout']}" action="#{logoutBean.logout}" styleClass="btn btn-link" />
							</h:form>
						</h:panelGroup>
						<h:panelGroup rendered="#{empty request.userPrincipal}">
							<h:link outcome="/authentication/custom/login.xhtml" value="#{messages['login']}"/>
						</h:panelGroup>
					</div>
				</header>

				<nav class="main-nav">
					<ul>
						<li><h:link outcome="/index.xhtml" value="#{messages['nav.home']}" styleClass="nav-link"/></li>
						<li>
							<h:panelGroup rendered="#{not empty request.userPrincipal}">
								<h:link outcome="/artists/list.xhtml" value="#{messages['nav.artists']}" styleClass="nav-link"/>
							</h:panelGroup>
						</li>
						<li>
							<h:panelGroup rendered="#{not empty request.userPrincipal}">
								<h:link outcome="/songs/list.xhtml" value="#{messages['nav.songs']}" styleClass="nav-link"/>
							</h:panelGroup>
						</li>
						<li>
							<h:panelGroup rendered="#{authView.isAdmin()}">
								<h:link outcome="/users/list.xhtml" value="#{messages['nav.users']}" styleClass="nav-link"/>
							</h:panelGroup>
						</li>
					</ul>
				</nav>

				<main class="content">
					<ui:insert name="content">
						<h:panelGroup>
							<h2>#{messages['welcome.title']}</h2>
							<p>#{messages['welcome.body']}</p>
						</h:panelGroup>
					</ui:insert>
				</main>

				<footer class="site-footer">
					<div>Â© 2025 Music App Advanced - PP</div>
				</footer>
			</div>
		</h:body>
	</f:view>
</html>
